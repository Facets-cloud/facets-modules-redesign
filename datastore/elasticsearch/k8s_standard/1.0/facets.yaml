intent: elasticsearch
flavor: k8s_standard
version: '1.0'
clouds:
- kubernetes
description: Elasticsearch cluster deployed using Elastic Cloud on Kubernetes (ECK)
  Operator
spec:
  title: Elasticsearch ECK Operator
  description: Elasticsearch cluster deployed using Elastic Cloud on Kubernetes (ECK)
    Operator
  type: object
  properties:
    elasticsearch_version:
      type: string
      title: Elasticsearch Version
      description: Elasticsearch version to deploy
      default: 8.11.0
      enum:
      - 8.11.0
      - 8.10.4
      - 7.17.15
    replica_count:
      type: number
      title: Replica Count
      description: Number of Elasticsearch nodes (combined master+data)
      default: 3
      minimum: 1
      maximum: 9
    resources:
      type: object
      title: Resources
      description: CPU and memory resources for Elasticsearch pods
      properties:
        cpu:
          type: string
          title: CPU
          description: CPU request and limit (e.g., 1000m, 2)
          default: '1'
        memory:
          type: string
          title: Memory
          description: Memory request and limit (e.g., 2Gi, 4Gi)
          default: 2Gi
          pattern: ^[0-9]+[GM]i$
    storage_size:
      type: string
      title: Storage Size
      description: Persistent volume size per node
      default: 10Gi
      pattern: ^[0-9]+[GM]i$
  required:
  - elasticsearch_version
  - replica_count
inputs:
  kubernetes_cluster:
    type: '@facets/eks'
    optional: false
    displayName: Kubernetes Cluster
    description: Target Kubernetes cluster for Elasticsearch deployment
    providers:
    - kubernetes
    - helm
  node_pool:
    type: '@facets/aws_karpenter_nodepool'
    optional: false
    displayName: Node Pool
    description: Node pool for Elasticsearch pods
  eck_operator:
    type: '@facets/helm'
    optional: false
    displayName: ECK Operator
    description: Elastic Cloud on Kubernetes (ECK) Operator Helm release
outputs:
  default:
    type: '@facets/elasticsearch'
    title: Elasticsearch Cluster
iac:
  validated_files:
  - main.tf
  - variables.tf
  - locals.tf
sample:
  kind: elasticsearch
  flavor: eck-operator
  version: '1.0'
  disabled: false
  spec:
    elasticsearch_version: 8.11.0
    replica_count: 3
    storage_size: 10Gi
