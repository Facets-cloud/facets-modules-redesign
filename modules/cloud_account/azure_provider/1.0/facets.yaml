intent: cloud_account
flavor: azure_provider
lifecycle: ENVIRONMENT
version: '1.0'
depends_on: []
input_type: instance
description: Module to configure and provision resources within a cloud account
composition: {}
conditional_on_intent: ''
clouds:
- azure
spec:
  description: Module to configure and provision resources within a cloud account
  properties:
    cloud_account:
      description: Select the cloud account to use (must be previously linked)
      title: Cloud Account
      type: string
      x-ui-typeable: true
      x-ui-overrides-only: true
      x-ui-show-label-selected: true
      x-ui-api-source:
        endpoint: /cc-ui/v1/accounts/
        method: GET
        labelKey: name
        valueKey: id
        filterConditions:
        - field: accountType
          value: CLOUD
        - field: provider
          value: AZURE
        params:
          includeContent: false
  required:
  - cloud_account
  title: Cloud Account Manager
  type: object
  x-ui-order:
  - cloud_provider
  - cloud_account
outputs:
  default:
    type: '@facets/azure_cloud_account'
    providers:
      azurerm:
        source: hashicorp/azurerm
        version: 4.36.0
        attributes:
          features: {}
          subscription_id: attributes.subscription_id
          client_id: attributes.client_id
          client_secret: attributes.client_secret
          tenant_id: attributes.tenant_id
      azapi:
        source: Azure/azapi
        version: 2.5.0
        attributes:
          subscription_id: attributes.subscription_id
          client_id: attributes.client_id
          client_secret: attributes.client_secret
          tenant_id: attributes.tenant_id
sample:
  version: '1.0'
  flavor: azure_provider
  kind: cloud_account
  disabled: false
  spec: {}
iac:
  validated_files:
  - variables.tf
