intent: monitoring
flavor: mongo
version: '1.0'
description: Complete MongoDB monitoring stack - MongoDB Exporter for metrics, ServiceMonitor
  for Prometheus, PrometheusRules for alerting
clouds:
- kubernetes
- aws
- azure
- gcp
inputs:
  kubernetes_cluster:
    type: '@facets/kubernetes-details'
    optional: false
    displayName: Kubernetes Cluster
    description: Kubernetes cluster for deploying monitoring resources
    providers:
    - kubernetes
    - kubernetes-alpha
    - helm
  mongo:
    type: '@facets/mongo'
    optional: false
    displayName: MongoDB Instance
    description: MongoDB instance to monitor (connection credentials will be used
      by exporter)
  prometheus:
    type: '@facets/prometheus'
    optional: false
    displayName: Prometheus Instance
    description: Prometheus instance for metrics collection and alerting (also provides
      Grafana namespace)
outputs:
  default:
    type: '@facets/monitoring-rules'
    title: MongoDB Monitoring Stack
spec:
  title: MongoDB Monitoring Configuration
  description: Configure MongoDB Exporter, ServiceMonitor, PrometheusRules
  type: object
  properties:
    labels:
      type: object
      title: Custom Labels
      description: Additional labels to apply to monitoring resources
      x-ui-yaml-editor: true
  x-ui-order:
  - labels
iac:
  validated_files:
  - main.tf
  - variables.tf
  - outputs.tf
sample:
  kind: monitoring
  flavor: mongo
  version: '1.0'
  disabled: false
  spec:
    labels: {}
