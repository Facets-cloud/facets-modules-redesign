intent: wireguard
flavor: standard
version: '1.0'
description: Deploys the nccloud/wireguard-operator on Kubernetes. This operator provides
  CRDs for managing Wireguard VPN servers and peers.
clouds:
- aws
- azure
- gcp
- kubernetes
intentDetails:
  type: networking
  description: WireGuard operator that manages VPN infrastructure using Kubernetes
    CRDs
  displayName: WireGuard Operator
inputs:
  kubernetes_details:
    type: '@facets/kubernetes-details'
    optional: false
    displayName: Kubernetes Cluster
    description: Kubernetes cluster where the operator will be deployed
    providers:
    - kubernetes
    - helm
  node_pool:
    type: '@facets/kubernetes_nodepool'
    optional: false
    displayName: Node Pool
    description: Node pool for Wireguard operator controller pods
outputs:
  default:
    type: '@facets/wireguard-details'
    title: Wireguard Operator Details
spec:
  title: Wireguard Operator Configuration
  description: Configure the Wireguard operator deployment
  type: object
  properties:
    namespace:
      type: string
      title: Namespace
      description: Kubernetes namespace for the operator. Leave empty for default
        (Environment namespace will be used)
      default: ''
    create_namespace:
      type: boolean
      title: Create Namespace
      description: Create the namespace if it does not exist
      default: true
    operator_resources:
      type: object
      title: Operator Controller Resources
      description: CPU and memory settings for operator controller pods
      properties:
        requests:
          type: object
          title: Resource Requests
          properties:
            cpu:
              type: string
              title: CPU Request
              description: CPU request for operator pods
              default: 100m
            memory:
              type: string
              title: Memory Request
              description: Memory request for operator pods
              default: 128Mi
        limits:
          type: object
          title: Resource Limits
          properties:
            cpu:
              type: string
              title: CPU Limit
              description: CPU limit for operator pods
              default: 200m
            memory:
              type: string
              title: Memory Limit
              description: Memory limit for operator pods
              default: 256Mi
    helm_config:
      type: object
      title: Helm Configuration
      x-ui-toggle: true
      properties:
        chart_version:
          type: string
          title: Chart Version
          description: nccloud/wireguard-operator Helm chart version
          default: 0.2.0
        wait:
          type: boolean
          title: Wait for Resources
          description: Wait for all resources to be ready
          default: true
        atomic:
          type: boolean
          title: Atomic Install
          description: Rollback on failure
          default: true
        timeout:
          type: integer
          title: Timeout (seconds)
          description: Installation timeout
          default: 600
    values:
      type: object
      title: Additional Helm Values
      description: Additional Helm values to merge (advanced)
      x-ui-yaml-editor: true
      x-ui-toggle: true
  x-ui-order:
  - namespace
  - create_namespace
  - operator_resources
  - helm_config
  - values
sample:
  kind: wireguard
  flavor: standard
  version: '1.0'
  disabled: false
  spec:
    namespace: ''
    create_namespace: true
    operator_resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi
    helm_config:
      chart_version: 0.2.0
      wait: true
      atomic: true
      timeout: 600
    values: {}
