intent: wireguard-vpn
flavor: standard
version: "1.0"
description: Deploys a WireGuard VPN server instance on Kubernetes using the bryopsida/wireguard Helm chart.
clouds:
  - aws
  - azure
  - gcp
  - kubernetes
intentDetails:
  type: networking
  description: WireGuard VPN server instance for secure network access
  displayName: WireGuard VPN Server
inputs:
  kubernetes_details:
    type: "@facets/kubernetes-details"
    optional: false
    displayName: Kubernetes Cluster
    description: Kubernetes cluster where the VPN will be deployed
    providers:
      - kubernetes
      - helm
  node_pool:
    type: "@facets/kubernetes_nodepool"
    optional: false
    displayName: Node Pool
    description: Node pool for VPN pods
  wireguard:
    type: "@facets/wireguard-details"
    optional: true
    displayName: WireGuard Base Chart
    description: Reference to base wireguard chart for version consistency (optional)
outputs:
  default:
    type: "@facets/wireguard-vpn-details"
    title: WireGuard VPN Server Details
spec:
  title: WireGuard VPN Server Configuration
  description: Configure the WireGuard VPN server deployment
  type: object
  properties:
    namespace:
      type: string
      title: Namespace
      description: Kubernetes namespace for VPN server. Leave empty for default (Environment namespace will be used)
      default: ""
    enable_ip_forward:
      type: boolean
      title: Enable IP Forwarding
      description: Enable IP forwarding on pod initialization
      default: true
    mtu:
      type: string
      title: MTU
      description: Maximum Transmission Unit size. Use 1380 for GCP, 1500 for others
      default: "1500"
    service_annotations:
      type: object
      title: Service Annotations
      description: Annotations for the VPN service (advanced)
      x-ui-yaml-editor: true
      x-ui-toggle: true
  required:
    - enable_ip_forward
  x-ui-order:
    - namespace
    - enable_ip_forward
    - mtu
    - service_annotations
sample:
  kind: wireguard-vpn
  flavor: standard
  version: "1.0"
  disabled: false
  spec:
    namespace: ""
    enable_ip_forward: true
    mtu: "1500"
    service_annotations: {}
