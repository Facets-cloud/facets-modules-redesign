name: azure
description: Azure project type with AKS and common services

# Git repository details
gitUrl: https://github.com/Facets-cloud/facets-modules-redesign.git
gitRef: main
baseTemplatePath: project-type/azure/base

iacTool: TERRAFORM
iacToolVersion: "1.5.7"

# IaC modules to include
modules:
  # === Azure Core Modules ===
  - intent: cloud_account
    flavor: azure_provider
  - intent: kubernetes_cluster
    flavor: aks
  - intent: kubernetes_node_pool
    flavor: azure
  - intent: network
    flavor: azure_network
  - intent: service
    flavor: azure

  # === Azure-Specific Modules ===
  - intent: azure_workload_identity
    flavor: azure

  # === Azure Datastore Modules ===
  - intent: mongo
    flavor: cosmosdb
  - intent: mysql
    flavor: azure-flexible-server
  - intent: postgres
    flavor: azure-flexible-server
  - intent: redis
    flavor: azure_cache_custom

  # === Common Modules ===
  - intent: alert_rules
    flavor: prometheus
  - intent: artifactories
    flavor: standard
  - intent: cert_manager
    flavor: standard
  - intent: config_map
    flavor: k8s_standard
  - intent: eck-operator
    flavor: helm
  - intent: grafana_dashboards
    flavor: k8s
  - intent: helm
    flavor: k8s_standard
  - intent: helm
    flavor: k8s_git
  - intent: gateway_api_crd
    flavor: default
  - intent: ingress
    flavor: nginx_gateway_fabric
  - intent: k8s_access_controls
    flavor: k8s_standard
  - intent: k8s_callback
    flavor: k8s_standard
  - intent: k8s_resource
    flavor: k8s_standard
  - intent: kubeblocks-operator
    flavor: standard
  - intent: kubernetes_secret
    flavor: k8s_standard
  - intent: monitoring
    flavor: mongo
  - intent: prometheus
    flavor: k8s_standard
  - intent: strimzi-operator
    flavor: helm
  - intent: vpa
    flavor: standard
  - intent: wireguard-operator
    flavor: standard
  - intent: wireguard-vpn
    flavor: standard
  - intent: keda
    flavor: standard

  # === Kubeblocks Self-hosted Datastores ===
  - intent: mongo
    flavor: kubeblocks
  - intent: mysql
    flavor: kubeblocks
  - intent: postgres
    flavor: kubeblocks
  - intent: redis
    flavor: kubeblocks
